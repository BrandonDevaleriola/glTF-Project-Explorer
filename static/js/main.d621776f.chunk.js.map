{"version":3,"sources":["components/ProjectDetailList.tsx","components/ProjectCardHeader.tsx","components/Markdown.tsx","components/ProjectCard.tsx","components/ProjectList.tsx","store/filters/Types.ts","interfaces/IFilter.ts","store/filters/Actions.ts","utils/FilterHelpers.ts","components/FilterBarOptions.tsx","components/FilterBarSelected.tsx","components/FilterBar.tsx","components/SearchBar.tsx","store/projects/Types.ts","store/results/Types.ts","App.tsx","store/Reducers.ts","store/projects/Reducers.ts","store/filters/Reducers.ts","store/results/Reducers.ts","services/DataService.ts","store/projects/Actions.ts","store/projects/Sagas.ts","store/projects/Selectors.ts","store/filters/Sagas.ts","store/filters/Selectors.ts","store/results/Actions.ts","store/results/Sagas.ts","store/Sagas.ts","index.tsx"],"names":["ProjectDetailList","props","header","items","className","map","item","key","ProjectCardHeader","project","link","href","name","Markdown","unsafeMarkdown","body","useState","__html","safeHtml","setSafeHtml","useEffect","md","Promise","resolve","reject","marked","err","result","purify","sanitize","then","dangerouslySetInnerHTML","shouldShowSection","length","ProjectCard","description","task","license","language","type","inputs","outputs","connect","FilterActionTypes","FilterDimension","state","projects","results","values","p","id","updateFilters","tasks","types","licenses","languages","tags","titleSubstring","UPDATE_FILTERS","updateSelectedFilters","selected","Set","UPDATE_SELECTED_FILTERS","createNewFilter","dimension","value","determineClassName","filter","Type","Task","License","Language","Tags","FilterBarOptions","filters","label","addAction","isVisible","setIsVisible","toggleVisibility","useCallback","onClick","f","FilterBarSelected","selectedFilters","removeAction","resetAction","selectedFiltersArray","Array","from","mapDispatchToProps","taskFilters","typeFilters","licenseFilters","languageFilters","tagFilters","handleFilterAddClick","_","add","handleFilterRemoveClick","delete","handleFilterResetClick","clear","ProjectsActionTypes","ResultsActionTypes","updateTitleSubstringFilter","UPDATE_TITLE_SUBSTRING_FILTER","handleSearch","event","newTitleSubstring","target","placeholder","onChange","App","src","alt","position","color","combineReducers","isFetchingProjects","action","PROJECTS_REQUESTED","PROJECTS_SUCCESSFUL","PROJECTS_FAILED","STORE_RESULTS","fetchProjects","fetch","r","json","catch","error","console","successfulProjects","retrieveProjects","updateProjects","call","put","actions","takeEvery","getProjects","calculateFilters","watchForFilterRecalculate","calculateTaskFilters","flatMap","x","t","calculateTypeFilters","calculateLicenseFilters","l","calculateLanguageFilters","calculateTagFilters","select","projectSelectors","all","getFilters","getSelectedFilters","createSelector","getTitleSubstring","storeResults","applyFilters","watchForResultUpdates","tagPriority","applyTagFilters","size","dimensions","Object","groupedFilters","reduce","acc","curr","push","match","some","v","applyTitleSearchFilter","titleSubstringLowerCase","toLowerCase","includes","sortResults","buckets","tag","entries","sort","a","b","localeCompare","filterSelectors","filteredResults","searchedResults","debounce","startup","root","fork","watchForProjectUpdates","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","run","rootSagas","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d621776f.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./ProjectDetailList.css\";\n\nexport interface IProjectDetailListProps {\n  header: string;\n  items?: string[];\n}\n\nconst ProjectDetailList: React.FC<IProjectDetailListProps> = props => {\n  const { header, items } = props;\n\n  if (!items) {\n    return null;\n  }\n\n  return (\n    <div className=\"project-card-details\">\n      <h2>{header}</h2>\n      <ul>\n        {items.map(item => (\n          <li key={item}>{item}</li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ProjectDetailList;\n","import React from \"react\";\nimport { IProjectInfo } from \"../interfaces/IProjectInfo\";\n\ninterface IProjectCardHeader {\n  project: IProjectInfo;\n}\n\nconst ProjectCardHeader: React.FC<IProjectCardHeader> = props => {\n  const { project } = props;\n\n  return (\n    <h1>\n      {project.link ? <a href={project.link}>{project.name}</a> : project.name}\n    </h1>\n  );\n};\n\nexport default ProjectCardHeader;\n","import React, { useState, useEffect } from \"react\";\nimport marked from \"marked\";\nimport purify from \"dompurify\";\n\ninterface IMarkdown {\n  className: string;\n  body: string;\n}\n\nconst parseAndSanitizeMarkdown = (md: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    marked(md, (err, result) => {\n      if (err) reject(err);\n\n      // Marked does not sanitize the html, so we must do so ourselves.\n      resolve(purify.sanitize(result));\n    });\n  });\n};\n\nconst Markdown: React.FC<IMarkdown> = props => {\n  const { className, body: unsafeMarkdown } = props;\n\n  const [safeHtml, setSafeHtml] = useState({ __html: \"\" });\n\n  // This effect is for performance reasons. It will only execute if the value\n  //   of the body prop is updated.\n  useEffect(() => {\n    parseAndSanitizeMarkdown(unsafeMarkdown).then(result =>\n      setSafeHtml({ __html: result })\n    );\n  }, [unsafeMarkdown]);\n\n  return <div className={className} dangerouslySetInnerHTML={safeHtml}></div>;\n};\n\nexport default Markdown;\n","import React from \"react\";\nimport { IProjectInfo } from \"../interfaces/IProjectInfo\";\nimport ProjectDetailList from \"./ProjectDetailList\";\nimport ProjectCardHeader from \"./ProjectCardHeader\";\nimport \"./ProjectCard.css\";\nimport Markdown from \"./Markdown\";\n\nconst shouldShowSection = (items?: string[]) => items && items.length > 0;\n\nexport interface IProjectCardProps {\n  project: IProjectInfo;\n}\n\nconst ProjectCard: React.FC<IProjectCardProps> = props => {\n  const { project } = props;\n\n  return (\n    <div className=\"project-card\">\n      <ProjectCardHeader project={project} />\n      <div className=\"project-card-content\">\n        {project.description && (\n          <Markdown\n            className=\"project-card-description\"\n            body={project.description}\n          />\n        )}\n        {shouldShowSection(project.task) && (\n          <ProjectDetailList header=\"Task\" items={project.task} />\n        )}\n        {shouldShowSection(project.license) && (\n          <ProjectDetailList header=\"License\" items={project.license} />\n        )}\n        {shouldShowSection(project.language) && (\n          <ProjectDetailList\n            header=\"Supported Languages\"\n            items={project.language!}\n          />\n        )}\n        {shouldShowSection(project.type) && (\n          <ProjectDetailList header=\"Type\" items={project.type} />\n        )}\n        {shouldShowSection(project.inputs) && (\n          <ProjectDetailList header=\"Input Methods\" items={project.inputs} />\n        )}\n        {shouldShowSection(project.outputs) && (\n          <ProjectDetailList header=\"Output Methods\" items={project.outputs} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectCard;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { IProjectInfo } from \"../interfaces/IProjectInfo\";\nimport { IAppState } from \"../interfaces/IAppState\";\nimport ProjectCard from \"./ProjectCard\";\n\nexport interface IProjectListProps {\n  projects: IProjectInfo[];\n}\n\nconst ProjectList: React.FC<IProjectListProps> = props => {\n  const { projects } = props;\n\n  return (\n    <>{projects && projects.map(p => <ProjectCard project={p} key={p.id} />)}</>\n  );\n};\n\nfunction mapStateToProps(state: IAppState): IProjectListProps {\n  const {\n    results: { values: projects }\n  } = state;\n\n  return { projects };\n}\n\nexport default connect(mapStateToProps)(ProjectList);\n","export enum FilterActionTypes {\n  UPDATE_FILTERS = \"UPDATE_FILTERS\",\n  UPDATE_SELECTED_FILTERS = \"UPDATE_SELECTED_FILTERS\",\n  UPDATE_TITLE_SUBSTRING_FILTER = \"UPDATE_TITLE_SUBSTRING_FILTER\",\n  PERFORM_SEARCH = \"PERFORM_SEARCH\"\n}\n","export enum FilterDimension {\n  Task = \"task\",\n  Type = \"type\",\n  License = \"license\",\n  Language = \"language\",\n  Tags = \"tags\"\n}\n\nexport interface IFilter {\n  dimension: FilterDimension;\n  value: string;\n  // selected: boolean;\n}\n\nexport function createNewFilter(\n  dimension: FilterDimension,\n  value: string\n): IFilter {\n  return {\n    dimension,\n    value\n    // selected: false\n  };\n}\n","import {\n  IUpdateFiltersAction,\n  IUpdateSelectedFiltersAction,\n  IUpdateTitleSubstringFilterAction\n} from \"./Interfaces\";\nimport { FilterActionTypes } from \"./Types\";\nimport { IFilter } from \"../../interfaces/IFilter\";\n\nexport function updateFilters(\n  tasks: IFilter[],\n  types: IFilter[],\n  licenses: IFilter[],\n  languages: IFilter[],\n  tags: IFilter[],\n  titleSubstring: string\n): IUpdateFiltersAction {\n  return {\n    type: FilterActionTypes.UPDATE_FILTERS,\n    tasks,\n    types,\n    licenses,\n    languages,\n    tags,\n    titleSubstring\n  };\n}\n\nexport function updateSelectedFilters(\n  selected: Set<IFilter>\n): IUpdateSelectedFiltersAction {\n  // React needs a new Set each time.\n  selected = new Set(selected);\n  return {\n    type: FilterActionTypes.UPDATE_SELECTED_FILTERS,\n    selected\n  };\n}\n\nexport function updateTitleSubstringFilter(\n  titleSubstring: string\n): IUpdateTitleSubstringFilterAction {\n  return {\n    type: FilterActionTypes.UPDATE_TITLE_SUBSTRING_FILTER,\n    titleSubstring\n  };\n}\n","import { IFilter, FilterDimension } from \"../interfaces/IFilter\";\n\nexport const determineClassName = (filter: IFilter) => {\n  switch (filter.dimension) {\n    case FilterDimension.Type:\n      return \"type-filter\";\n    case FilterDimension.Task:\n      return \"task-filter\";\n    case FilterDimension.License:\n      return \"license-filter\";\n    case FilterDimension.Language:\n      return \"language-filter\";\n    case FilterDimension.Tags:\n      return \"tags-filter\";\n    default:\n      return \"\";\n  }\n};\n","import React, { useState, useCallback } from \"react\";\nimport { IFilter } from \"../interfaces/IFilter\";\nimport { determineClassName } from \"../utils/FilterHelpers\";\nimport \"./FilterBarOptions.css\";\n\nexport interface IFilterBarOptionsProps {\n  filters: IFilter[];\n  label: string;\n  addAction: (f: IFilter) => (_: React.MouseEvent) => void;\n}\n\nconst FilterBarOptions: React.FC<IFilterBarOptionsProps> = props => {\n  const { filters, label, addAction } = props;\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  const toggleVisibility = useCallback(() => {\n    setIsVisible(!isVisible);\n  }, [isVisible, setIsVisible]);\n\n  return (\n    <>\n      {filters.length > 0 && (\n        <div className=\"filter-bar-options\">\n          <h2 onClick={toggleVisibility}>\n            {label} {isVisible ? \"▲\" : \"▼\"}\n          </h2>\n          <div className={isVisible ? \"\" : \"hide\"}>\n            <ul>\n              {filters.map(f => (\n                <li key={f.value}>\n                  <button\n                    className={determineClassName(f)}\n                    onClick={addAction(f)}\n                  >\n                    {f.value}\n                  </button>\n                </li>\n              ))}\n            </ul>\n            <p className=\"instructions\">Click to add</p>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default FilterBarOptions;\n","import React from \"react\";\nimport { IFilter } from \"../interfaces/IFilter\";\nimport \"./FilterBarSelected.css\";\nimport { determineClassName } from \"../utils/FilterHelpers\";\n\nexport interface IFilterBarSelectedProps {\n  selectedFilters: Set<IFilter>;\n  removeAction: (f: IFilter) => (_: React.MouseEvent) => void;\n  resetAction: (_: React.MouseEvent) => void;\n}\n\nconst FilterBarSelected: React.FC<IFilterBarSelectedProps> = props => {\n  const { selectedFilters, removeAction, resetAction } = props;\n\n  const selectedFiltersArray = Array.from(selectedFilters);\n\n  return (\n    <div className=\"filter-bar-selected\">\n      <h2>Selected Filters</h2>\n      <ul>\n        {selectedFiltersArray.length > 0 ? (\n          <>\n            {selectedFiltersArray.map(f => (\n              <li key={f.value}>\n                <button\n                  className={determineClassName(f)}\n                  onClick={removeAction(f)}\n                >\n                  {f.value} <span className=\"clear-cross\">✕</span>\n                </button>\n              </li>\n            ))}\n            <li>\n              <button className=\"clear-all-filters\" onClick={resetAction}>\n                Clear All Filters\n              </button>\n            </li>\n          </>\n        ) : (\n          <li>\n            <p className=\"no-filters-message\">No filters selected.</p>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default FilterBarSelected;\n","import React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { IFilter } from \"../interfaces/IFilter\";\nimport { IAppState } from \"../interfaces/IAppState\";\nimport { updateSelectedFilters } from \"../store/filters/Actions\";\nimport FilterBarOptions from \"./FilterBarOptions\";\nimport \"./FilterBar.css\";\nimport FilterBarSelected from \"./FilterBarSelected\";\n\nexport interface IFilterBarProps {\n  taskFilters: IFilter[];\n  typeFilters: IFilter[];\n  licenseFilters: IFilter[];\n  languageFilters: IFilter[];\n  tagFilters: IFilter[];\n  selectedFilters: Set<IFilter>;\n  updateSelectedFilters: typeof updateSelectedFilters;\n}\n\nconst FilterBar: React.FC<IFilterBarProps> = props => {\n  const {\n    taskFilters,\n    typeFilters,\n    licenseFilters,\n    languageFilters,\n    selectedFilters,\n    tagFilters,\n    updateSelectedFilters\n  } = props;\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  const toggleVisibility = useCallback(() => {\n    setIsVisible(!isVisible);\n  }, [isVisible, setIsVisible]);\n\n  const handleFilterAddClick = useCallback(\n    (filter: IFilter) => (_: React.MouseEvent) => {\n      selectedFilters.add(filter);\n      updateSelectedFilters(selectedFilters);\n    },\n    [selectedFilters, updateSelectedFilters]\n  );\n\n  const handleFilterRemoveClick = useCallback(\n    (filter: IFilter) => (_: React.MouseEvent) => {\n      selectedFilters.delete(filter);\n      updateSelectedFilters(selectedFilters);\n    },\n    [selectedFilters, updateSelectedFilters]\n  );\n\n  const handleFilterResetClick = useCallback(\n    _ => {\n      selectedFilters.clear();\n      updateSelectedFilters(selectedFilters);\n    },\n    [selectedFilters, updateSelectedFilters]\n  );\n\n  return (\n    <div className=\"filter-bar\">\n      <div className=\"filter-bar-header\">\n        <h1 onClick={toggleVisibility}>\n          Filter Results {isVisible ? \"▲\" : \"▼\"}\n        </h1>\n      </div>\n      <div className={isVisible ? \"filter-bar-expando\" : \"hide\"}>\n        <FilterBarSelected\n          selectedFilters={selectedFilters}\n          removeAction={handleFilterRemoveClick}\n          resetAction={handleFilterResetClick}\n        />\n        <FilterBarOptions\n          filters={tagFilters}\n          label=\"Filter by Tag\"\n          addAction={handleFilterAddClick}\n        />\n        <FilterBarOptions\n          filters={taskFilters}\n          label=\"Filter by Task\"\n          addAction={handleFilterAddClick}\n        />\n        <FilterBarOptions\n          filters={typeFilters}\n          label=\"Filter by Type\"\n          addAction={handleFilterAddClick}\n        />\n        <FilterBarOptions\n          filters={licenseFilters}\n          label=\"Filter by License\"\n          addAction={handleFilterAddClick}\n        />\n        <FilterBarOptions\n          filters={languageFilters}\n          label=\"Filter by Language\"\n          addAction={handleFilterAddClick}\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: IAppState) {\n  const {\n    filters: {\n      tasks: taskFilters,\n      types: typeFilters,\n      licenses: licenseFilters,\n      languages: languageFilters,\n      tags: tagFilters,\n      selected: selectedFilters\n    }\n  } = state;\n\n  return {\n    taskFilters,\n    typeFilters,\n    licenseFilters,\n    languageFilters,\n    tagFilters,\n    selectedFilters\n  };\n}\n\nconst mapDispatchToProps = {\n  updateSelectedFilters\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterBar);\n","import React, { useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport { IAppState } from \"../interfaces/IAppState\";\nimport { updateTitleSubstringFilter } from \"../store/filters/Actions\";\nimport \"./SearchBar.css\";\n\nexport interface ISearchBarProps {\n  titleSubstring: string;\n  updateTitleSubstringFilter: typeof updateTitleSubstringFilter;\n}\n\nconst SearchBar: React.FC<ISearchBarProps> = props => {\n  const { titleSubstring, updateTitleSubstringFilter } = props;\n\n  const handleSearch = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const newTitleSubstring = event.target.value;\n      updateTitleSubstringFilter(newTitleSubstring);\n    },\n    [updateTitleSubstringFilter]\n  );\n\n  return (\n    <div className=\"search-bar\">\n      <h1>Search by Title</h1>\n      <input\n        placeholder=\"Type to search\"\n        value={titleSubstring}\n        onChange={handleSearch}\n      ></input>\n    </div>\n  );\n};\n\nfunction mapStateToProps(state: IAppState) {\n  const {\n    filters: { titleSubstring }\n  } = state;\n\n  return {\n    titleSubstring\n  };\n}\n\nconst mapDispatchToProps = {\n  updateTitleSubstringFilter\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SearchBar);\n","export enum ProjectsActionTypes {\n  PROJECTS_REQUESTED = \"PROJECTS_REQUESTED\",\n  PROJECTS_SUCCESSFUL = \"PROJECTS_SUCCESSFUL\",\n  PROJECTS_FAILED = \"PROJECTS_FAILED\"\n}\n","export enum ResultsActionTypes {\n  RECALCULATE_RESULTS = \"RECALCULATE_RESULTS\",\n  STORE_RESULTS = \"STORE_RESULTS\"\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport ProjectList from \"./components/ProjectList\";\nimport FilterBar from \"./components/FilterBar\";\nimport SearchBar from \"./components/SearchBar\";\nimport GitHubForkRibbon from \"react-github-fork-ribbon\";\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <div className=\"header\">\n        <img src=\"./glTF_RGB_June16.svg\" alt=\"glTF\" />\n        <h1>Project Explorer</h1>\n      </div>\n      <div className=\"content\">\n        <SearchBar></SearchBar>\n        <FilterBar></FilterBar>\n        <ProjectList></ProjectList>\n      </div>\n      <GitHubForkRibbon\n        position=\"right\"\n        color=\"white\"\n        href=\"https://github.com/KhronosGroup/glTF-Project-Explorer\"\n      >\n        Fork us on GitHub\n      </GitHubForkRibbon>\n    </>\n  );\n};\n\nexport default App;\n","import { combineReducers } from \"redux\";\nimport { projects } from \"./projects/Reducers\";\nimport { filters } from \"./filters/Reducers\";\nimport { results } from \"./results/Reducers\";\n\nexport default combineReducers({\n  projects,\n  filters,\n  results\n});\n","import { ProjectsActions } from \"./Interfaces\";\nimport { ProjectsActionTypes } from \"./Types\";\nimport { IProjectsState } from \"../../interfaces/IAppState\";\n\nexport function projects(\n  state: IProjectsState = {\n    isFetchingProjects: false,\n    values: []\n  },\n  action: ProjectsActions\n) {\n  switch (action.type) {\n    case ProjectsActionTypes.PROJECTS_REQUESTED:\n      return { ...state, isFetchingProjects: true };\n    case ProjectsActionTypes.PROJECTS_SUCCESSFUL:\n      return { ...state, values: action.projects, isFetchingProjects: false };\n    case ProjectsActionTypes.PROJECTS_FAILED:\n      return { ...state, isFetchingProjects: false };\n    default:\n      return state;\n  }\n}\n","import { IFiltersState } from \"../../interfaces/IAppState\";\nimport { FilterActionTypes } from \"./Types\";\nimport { FiltersActions } from \"./Interfaces\";\n\nexport function filters(\n  state: IFiltersState = {\n    tasks: [],\n    types: [],\n    licenses: [],\n    languages: [],\n    tags: [],\n    titleSubstring: \"\",\n    selected: new Set()\n  },\n  action: FiltersActions\n) {\n  switch (action.type) {\n    case FilterActionTypes.UPDATE_FILTERS:\n      return {\n        ...state,\n        tasks: action.tasks,\n        types: action.types,\n        licenses: action.licenses,\n        languages: action.languages,\n        tags: action.tags,\n        titleSubstring: action.titleSubstring\n      };\n    case FilterActionTypes.UPDATE_SELECTED_FILTERS:\n      return {\n        ...state,\n        selected: action.selected\n      };\n    case FilterActionTypes.UPDATE_TITLE_SUBSTRING_FILTER:\n      return {\n        ...state,\n        titleSubstring: action.titleSubstring\n      };\n    default:\n      return state;\n  }\n}\n","import { IResultsState } from \"../../interfaces/IAppState\";\nimport { ResultsActions } from \"./Interfaces\";\nimport { ResultsActionTypes } from \"./Types\";\n\nexport function results(\n  state: IResultsState = {\n    values: []\n  },\n  action: ResultsActions\n) {\n  switch (action.type) {\n    case ResultsActionTypes.STORE_RESULTS:\n      return { ...state, values: action.results };\n    default:\n      return state;\n  }\n}\n","import { IProjectInfo } from \"../interfaces/IProjectInfo\";\n\n// Despite the data being a static file, we don't pull it in using Webpack so\n//   we can change to using a restful service in the future.\nexport function fetchProjects(): Promise<IProjectInfo[]> {\n  return fetch(\"./data/glTF-projects-data.json\")\n    .then(r => r.json())\n    .catch(error => console.error(`Error fetching data. Reason: ${error}`));\n}\n","import {\n  IRequestProjectsAction,\n  ISuccessfulProjectsAction,\n  IFailedProjectsAction\n} from \"./Interfaces\";\nimport { ProjectsActionTypes } from \"./Types\";\nimport { IProjectInfo } from \"../../interfaces/IProjectInfo\";\n\nexport function requestProjects(): IRequestProjectsAction {\n  return {\n    type: ProjectsActionTypes.PROJECTS_REQUESTED\n  };\n}\n\nexport function successfulProjects(\n  projects: IProjectInfo[]\n): ISuccessfulProjectsAction {\n  return {\n    type: ProjectsActionTypes.PROJECTS_SUCCESSFUL,\n    projects\n  };\n}\n\nexport function failedProjects(error: Error): IFailedProjectsAction {\n  return {\n    type: ProjectsActionTypes.PROJECTS_FAILED,\n    error: error\n  };\n}\n","import { call, takeEvery, put } from \"redux-saga/effects\";\nimport { fetchProjects } from \"../../services/DataService\";\nimport * as actions from \"./Actions\";\nimport { ProjectsActionTypes } from \"./Types\";\nimport { IProjectInfo } from \"../../interfaces/IProjectInfo\";\n\nexport function* retrieveProjects() {\n  try {\n    const projects: IProjectInfo[] = yield call(fetchProjects);\n    let id = 0;\n    yield put(\n      actions.successfulProjects(\n        projects.map(p => {\n          // This work gives us a stable key. Eventually when this is database\n          // backed the ID will be provided by the DB and this can be removed.\n          p.id = id++;\n          return p;\n        })\n      )\n    );\n  } catch (err) {\n    yield put(actions.failedProjects(err));\n  }\n}\n\nexport function* updateProjects() {\n  yield takeEvery(ProjectsActionTypes.PROJECTS_REQUESTED, retrieveProjects);\n}\n","import { IAppState } from \"../../interfaces/IAppState\";\n\nexport const getProjects = (state: IAppState) => state.projects.values;\n","import { takeEvery, all, call, select, put } from \"redux-saga/effects\";\nimport { createNewFilter, FilterDimension } from \"../../interfaces/IFilter\";\nimport { IProjectInfo } from \"../../interfaces/IProjectInfo\";\nimport { ProjectsActionTypes } from \"../projects/Types\";\nimport * as projectSelectors from \"../projects/Selectors\";\nimport * as actions from \"./Actions\";\n\nconst DEFAULT_FULL_TEXT_TITLE_VALUE = \"\";\n\nexport function calculateTaskFilters(projects: IProjectInfo[]) {\n  const tasks = [\n    ...new Set(projects.flatMap(p => p.task).filter(x => x))\n  ] as string[]; // We know we have no undefined or blank values.\n  return tasks.map(t => createNewFilter(FilterDimension.Task, t));\n}\n\nexport function calculateTypeFilters(projects: IProjectInfo[]) {\n  const types = [\n    ...new Set(projects.flatMap(p => p.type).filter(x => x))\n  ] as string[];\n  return types.map(t => createNewFilter(FilterDimension.Type, t));\n}\n\nexport function calculateLicenseFilters(projects: IProjectInfo[]) {\n  const licenses = [\n    ...new Set(projects.flatMap(p => p.license).filter(x => x))\n  ] as string[];\n  return licenses.map(l => createNewFilter(FilterDimension.License, l));\n}\n\nexport function calculateLanguageFilters(projects: IProjectInfo[]) {\n  const languages = [\n    ...new Set(projects.flatMap(p => p.language).filter(x => x))\n  ] as string[];\n  return languages.map(l => createNewFilter(FilterDimension.Language, l));\n}\n\nexport function calculateTagFilters(projects: IProjectInfo[]) {\n  const tags = [\n    ...new Set(projects.flatMap(p => p.tags).filter(x => x))\n  ] as string[];\n  return tags.map(t => createNewFilter(FilterDimension.Tags, t));\n}\n\nexport function* calculateFilters() {\n  const projects = yield select(projectSelectors.getProjects);\n  const [tasks, types, licenses, languages, tags] = yield all([\n    call(calculateTaskFilters, projects),\n    call(calculateTypeFilters, projects),\n    call(calculateLicenseFilters, projects),\n    call(calculateLanguageFilters, projects),\n    call(calculateTagFilters, projects)\n  ]);\n  yield put(\n    actions.updateFilters(\n      tasks,\n      types,\n      licenses,\n      languages,\n      tags,\n      DEFAULT_FULL_TEXT_TITLE_VALUE\n    )\n  );\n  yield put(actions.updateSelectedFilters(new Set()));\n}\n\nexport function* watchForFilterRecalculate() {\n  yield takeEvery(ProjectsActionTypes.PROJECTS_SUCCESSFUL, calculateFilters);\n}\n","import { createSelector } from \"reselect\";\nimport { IAppState } from \"../../interfaces/IAppState\";\n\nexport const getFilters = (state: IAppState) => state.filters;\n\nexport const getSelectedFilters = createSelector(\n  getFilters,\n  filters => filters.selected\n);\n\nexport const getTitleSubstring = createSelector(\n  getFilters,\n  filters => filters.titleSubstring\n);\n","import { IProjectInfo } from \"../../interfaces/IProjectInfo\";\nimport { ResultsActionTypes } from \"./Types\";\nimport { IRecalculateResultsAction, IStoreResultsAction } from \"./Interfaces\";\n\nexport function storeResults(results: IProjectInfo[]): IStoreResultsAction {\n  return {\n    type: ResultsActionTypes.STORE_RESULTS,\n    results\n  };\n}\n\nexport function recalculateResults(): IRecalculateResultsAction {\n  return {\n    type: ResultsActionTypes.RECALCULATE_RESULTS\n  };\n}\n","import { takeEvery, all, put, select, debounce } from \"redux-saga/effects\";\nimport * as projectSelectors from \"../projects/Selectors\";\nimport * as filterSelectors from \"../filters/Selectors\";\nimport { IProjectInfo } from \"../../interfaces/IProjectInfo\";\nimport * as actions from \"./Actions\";\nimport { IFilter, FilterDimension } from \"../../interfaces/IFilter\";\nimport { FilterActionTypes } from \"../filters/Types\";\n\n// Tags in these groups will be pulled to the top of the list.\n//   Priority is given to tags with lower index values.\nconst tagPriority = [\"Khronos Official\", \"Staff Picks\"];\nconst UNTAGGED_KEY = \"UNTAGGED\";\n\ntype ResultsBuckets = { [key: string]: IProjectInfo[] };\n\ninterface IGroupedFilters {\n  [dimension: string]: IFilter[];\n}\n\nfunction applyTagFilters(\n  projects: IProjectInfo[],\n  selectedFilters: Set<IFilter>\n): IProjectInfo[] {\n  if (selectedFilters.size < 1) {\n    return projects;\n  }\n\n  const dimensions = Object.values(FilterDimension);\n  const groupedFilters = Array.from(selectedFilters).reduce<IGroupedFilters>(\n    (acc, curr) => {\n      if (!acc[curr.dimension]) {\n        acc[curr.dimension] = [];\n      }\n\n      acc[curr.dimension].push(curr);\n\n      return acc;\n    },\n    {}\n  );\n\n  return projects.filter(project => {\n    let match = false;\n\n    for (const dimension of dimensions) {\n      if (!groupedFilters[dimension]) continue;\n\n      match = groupedFilters[dimension].some(filter => {\n        if (project[dimension]) {\n          // Within the dimension we do an OR.\n          return project[dimension]!.some(v => v === filter.value);\n        }\n\n        return false;\n      });\n\n      // No matches for this dimension? Break and continue to the next once\n      // since we need all dimensions to match for our AND.\n      if (!match) break;\n    }\n\n    return match;\n  });\n}\n\nfunction applyTitleSearchFilter(\n  projects: IProjectInfo[],\n  titleSubstring?: string\n): IProjectInfo[] {\n  if (!titleSubstring) {\n    return projects;\n  }\n  const titleSubstringLowerCase = titleSubstring.toLowerCase();\n  return projects.filter(p =>\n    p.name.toLowerCase().includes(titleSubstringLowerCase)\n  );\n}\n\nfunction sortResults(projects: IProjectInfo[]): IProjectInfo[] {\n  const buckets: ResultsBuckets = {};\n\n  for (const tag of tagPriority) {\n    buckets[tag] = [];\n  }\n\n  buckets[UNTAGGED_KEY] = [];\n\n  for (const project of projects) {\n    if (!project.tags) {\n      buckets[UNTAGGED_KEY].push(project);\n      continue;\n    }\n\n    for (const tag of project.tags) {\n      if (buckets[tag]) {\n        buckets[tag].push(project);\n      } else {\n        buckets[UNTAGGED_KEY].push(project);\n      }\n    }\n  }\n\n  return Object.entries(buckets).flatMap(([_, projects]) => {\n    return projects.sort((a, b) => a.name.localeCompare(b.name));\n  });\n}\n\nexport function* applyFilters() {\n  const [projects, selectedFilters, titleSubstring]: [\n    IProjectInfo[],\n    Set<IFilter>,\n    string\n  ] = yield all([\n    select(projectSelectors.getProjects),\n    select(filterSelectors.getSelectedFilters),\n    select(filterSelectors.getTitleSubstring)\n  ]);\n\n  const filteredResults = applyTagFilters(projects, selectedFilters);\n  const searchedResults = applyTitleSearchFilter(\n    filteredResults,\n    titleSubstring\n  );\n  const results = sortResults(searchedResults);\n\n  yield put(actions.storeResults(results));\n}\n\nexport function* watchForResultUpdates() {\n  yield takeEvery(FilterActionTypes.UPDATE_SELECTED_FILTERS, applyFilters);\n  yield debounce(\n    500,\n    FilterActionTypes.UPDATE_TITLE_SUBSTRING_FILTER,\n    applyFilters\n  );\n}\n","import { fork, put } from \"redux-saga/effects\";\nimport { updateProjects as watchForProjectUpdates } from \"./projects/Sagas\";\nimport { ProjectsActionTypes } from \"./projects/Types\";\nimport { watchForFilterRecalculate } from \"./filters/Sagas\";\nimport { watchForResultUpdates } from \"./results/Sagas\";\n\nexport function* startup() {\n  yield put({ type: ProjectsActionTypes.PROJECTS_REQUESTED });\n}\n\nexport default function* root() {\n  yield fork(startup);\n  yield fork(watchForProjectUpdates);\n  yield fork(watchForFilterRecalculate);\n  yield fork(watchForResultUpdates);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport createSagaMiddleware from \"@redux-saga/core\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport rootReducer from \"./store/Reducers\";\nimport rootSagas from \"./store/Sagas\";\n\n// A note about the use of redux here; a lot of inner deliberations were made\n// before choosing to pull in both Redux and Sagas for this app. The idea is\n// to keep this app mostly simple, but Redux and Sagas were pulled in for two\n// major reasons:\n//\n//   1. We have to communicate data changes across the app to several components.\n//   2. Redux makes managing complex state changes (such as filtering) easy.\n//\n// Yes, this is probably over-engineered, but Redux is the best tool for this\n// potentially complex task. If you hate it, blame me and I'd be glad to bike\n// shed about it with you. -ANM\n\nconst initialState = {};\n\nconst sagaMiddleware = createSagaMiddleware({});\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(rootSagas);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\") as HTMLElement\n);\n"],"sourceRoot":""}